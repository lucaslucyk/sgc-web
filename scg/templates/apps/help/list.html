{% extends "base_template.html" %}
{% block extra_css %}
{% load static %}
  <!-- DataTables -->
  <link rel="stylesheet" href="{%  static 'plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}">
  <link rel="stylesheet" href="{%  static 'plugins/datatables-responsive/css/responsive.bootstrap4.min.css' %}">
{% endblock %}

{% block namepage %}Ayuda{% endblock %}
{% block active_help %}active{% endblock %}

{% block route %}
  <li class="breadcrumb-item"><a href="{% url 'index' %}">Inicio</a></li>
  <li class="breadcrumb-item active">Ayuda</li>
{% endblock route %}

{% block content %}
	<div class="row">
		<div class="col-md-12">
			
      {% if messages %}
      <section id="mensajes">
        {% for message in messages %}
          <div class="alert alert-{% if message.tags %}{{ message.tags }}{% endif %} alert-dismissible" >
            <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
              {{ message }}
          </div>
        {% endfor %}
      </section>
    {% endif %}

    <section id="results">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">
            Ayuda e instructivos para SGC
          </h3>
            <div class="card-tools">
              <a href="{% url 'help_create' %}" class="btn btn-outline-dark">Generar ayuda</a>
            </div>
        </div>
        <!-- /.card-header -->
        <div class="card-body">
          <table id="data-table" class="table table-bordered table-striped table-sm table-responsive-sm">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Etiquetas</th>
                <th>Descripci&oacute;n</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              {% for help in help_list %}
                <tr>
                  <td class="align-middle">{{help.title|capfirst}}</td>
                  <td class="align-middle">{{help.tags}}</td>
                  <td class="align-middle">{{help.short_description|capfirst}}</td>
                  <td class="py-0 align-middle">
                    <div class="btn-group btn-group-sm">
                      <a href="{{ help.get_print_url|safe }}" class="btn btn-outline-dark"><i class="fas fa-print"></i></a>
                      <a href="{{ help.get_detail_url|safe }}" class="btn btn-primary"><i class="far fa-eye"></i></a>
                      <a href="{{ help.get_edit_url|safe }}" class="btn btn-info"><i class="fas fa-pencil-alt"></i></a>
                      <a href="{{ help.get_delete_url|safe }}" class="btn btn-danger"><i class="fas fa-trash"></i></a>
                    </div>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
            <tfoot>
              <tr>
                <th>Nombre</th>
                <th>Etiquetas</th>
                <th>Descripci&oacute;n</th>
                <th>Acciones</th>
              </tr>
            </tfoot>
          </table>
        </div>
        <!-- /.card-body -->
      </div>
      <!-- /.card -->
    </section>

		</div>
	</div>
{% endblock %}

{% block extra_js %}
{% load static %}

<script src="{%  static 'plugins/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{%  static 'plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{%  static 'plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
<script src="{%  static 'plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>

<!-- page script -->
<script>
  $(function () {
    $("#data-table").DataTable({
      "responsive": true,
      "autoWidth": false,
    });
  });
</script>
{% endblock %}