$("[btn-get-url=true]").click(function (e) { e.preventDefault(), $(this).addClass("disabled"); var s = $(this).attr("get-url"), a = $(this).attr("btn-id"), t = $(this).attr("btn-type"); const i = $("[loading-id=" + a + "][loading-type=" + t + "]"), l = $("[download-id=" + a + "][download-type=" + t + "]"), r = $(this); i.show(), $.ajax({ type: "GET", dataType: "json", url: s, success: function (e) { l.attr("href", e.fileUrl), l.attr("role", "link"), l.attr("aria-disabled", "false"), l.removeClass("disabled"), $('<section id="mensajes"><div class="alert alert-success alert-dismissible"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>Liquidaci√≥n actualizada.</div></section>').insertBefore("#results") }, error: function (e) { $('<section id="mensajes"><div class="alert alert-danger alert-dismissible"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>' + e.responseJSON.message + "</div></section>").insertBefore("#results") }, complete: function () { i.hide(), r.blur(), r.removeClass("disabled") } }) });